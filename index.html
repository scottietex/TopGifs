<!DOCTYPE html>
<html lang="US-en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--Styles-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <link rel="stylesheet" href="css/style.css" type="text/css">
        
        <title>Meal Matcher</title>

    <!--Link to main.js-->    
    <script src="/js/main.js"></script>
    </head>

    <!--Page content-->
    <body>

        <!--Anchor for top of page-->
        <a id="top"></a>

        <!--Jumbotron-->
        <header class="jumbotron">
            <h1>Meal Matcher</h1>
        </header>

        <!--Container for background image-->
        <div class="container-primary" id="background">

            <!--Container for website introduction-->
            <div class="container-secondary">
                <h2>How does Meal Matcher Work?</h2>
                <p>Just type in what you want to eat and Meal Matcher will track down a delicious recipe just for you!</p>
            </div>
      
            <!--Container for search box-->
            <section class="text-center">
                <div class="search-bar">
                    <input id="search" type="text" placeholder="Find a Recipe!" required>
                    <button class="btn" onclick="getrecipe(document.getElementById('search').value)">Go!</button>
                </div>
            </section>

            <!--Container for Search Results-->
            <div id="output"></div>
            <a href="" id="sourceLink"></a>
    
            <!--Footer with link to top of page-->
            <footer>
                <a href="#top">Back to Top</a>
            </footer>
        </div> 
        <!--Scripts-->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script>
            function getsource(id){
    $.ajax ({
        url:"https://api.spoonacular.com/recipes/"+id+"/information?apiKey=4d58b05dbbb74086800a0dc69857cf1b",
        success: function(res) {
            document.getElementById('sourceLink').innerHTML=res.sourceUrl
            document.getElementById('sourceLink').href=res.sourceUrl
        }
    })
}
function getrecipe(q){
    $.ajax ({
        url:"https://api.spoonacular.com/recipes/search?apiKey=4d58b05dbbb74086800a0dc69857cf1b&number=1&"+q,
        success: function (res) {
            document.getElementById("output").innerHTML="<h3>"+res.results[0].title+"</h3><br><img src='"+res.baseUri+res.results[0].image+"width='400'/> <br> ready in "+res.results[0].readyInMinutes+" minutes"
            getsource(res.results[0].id)
        }
    })
}
        </script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    </body>
</html>
